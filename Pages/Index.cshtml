@page
@using AmadouDialloPortfolio.Services
@inject VisitorCountService VisitorCountService
@{
    ViewData["Title"] = "Home";
    var visitorData = VisitorCountService.GetVisitorData();
}

<div class="hero-section text-white mb-5">
    <div class="row">
        <div class="col-lg-8">
            <h1 class="display-4 fw-bold">Amadou Diallo</h1>
            <h2 class="h3 mb-4">Software Development Engineer</h2>
            <p class="lead mb-4">
                <span class="me-2"><i class="fas fa-server fa-sm me-1"></i>Backend Engineering</span> | 
                <span class="mx-2"><i class="fab fa-aws fa-sm me-1"></i>AWS Infrastructure</span> | 
                <span class="ms-2"><i class="fas fa-code-branch fa-sm me-1"></i>Cloud-Native Systems</span>
            </p>
            <p class="mb-4">
                Results-driven Software Engineer with experience at Amazon building scalable backend systems, 
                optimizing infrastructure, and automating ML pipelines. Proven track record in delivering 
                cost optimizations worth millions and mentoring engineering teams.
            </p>
            <div class="mt-5 d-flex align-items-center">
                <a href="/Experience" class="btn btn-light btn-lg me-3">
                    <i class="fas fa-briefcase me-2"></i>View Experience
                </a>
                <a href="/Projects" class="btn btn-outline-light btn-lg">
                    <i class="fas fa-code me-2"></i>See Projects
                </a>
                <div class="d-inline-flex flex-column align-items-center ms-3">
                    <a href="/documents/Amadou_Diallo_Resume.docx.pdf" id="resume-download-link" class="btn btn-outline-light btn-lg" download>
                        <i class="fas fa-download me-2"></i>Download Resume
                    </a>
                    <span id="resume-download-count" class="badge bg-light text-dark mt-2"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-server fa-3x text-primary mb-3"></i>
                <h5 class="card-title">Backend Engineering</h5>
                <p class="card-text">Scalable microservices, REST APIs, and cloud-native systems</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fab fa-aws fa-3x text-primary mb-3"></i>
                <h5 class="card-title">AWS Infrastructure</h5>
                <p class="card-text">Cloud platforms, SageMaker, Lambda, and Infrastructure as Code</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-robot fa-3x text-primary mb-3"></i>
                <h5 class="card-title">ML & Automation</h5>
                <p class="card-text">Machine learning pipelines and automated deployment systems</p>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const downloadLink = document.getElementById('resume-download-link');
            const countSpan = document.getElementById('resume-download-count');
            
            let downloadCount = parseInt(localStorage.getItem('resumeDownloadCount')) || 0;
            
            function updateCountDisplay() {
                if (downloadCount > 0) {
                    countSpan.innerText = `${downloadCount} downloads`;
                    countSpan.style.display = 'inline-block';
                }
            }

            updateCountDisplay();

            downloadLink.addEventListener('click', function () {
                downloadCount++;
                localStorage.setItem('resumeDownloadCount', downloadCount);
                updateCountDisplay();
            });
        });
    </script>
}